<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Bandpass Filters &mdash; GalSim 2.4.1 documentation</title><link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Chromatic Profiles" href="chromaticobject.html" />
    <link rel="prev" title="Spectral Energy Distributions" href="sed.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> GalSim
          </a>
              <div class="version">
                2.4
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation Instructions</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorials.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="image.html">Images and Related Concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="sb.html">Surface Brightness Profiles</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="chromatic.html">Wavelength-dependent Profiles</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="sed.html">Spectral Energy Distributions</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Bandpass Filters</a></li>
<li class="toctree-l2"><a class="reference internal" href="chromaticobject.html">Chromatic Profiles</a></li>
<li class="toctree-l2"><a class="reference internal" href="spectral.html">Spectral Correlated Noise</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="units.html">Units</a></li>
<li class="toctree-l1"><a class="reference internal" href="wcs.html">World Coordinate Systems</a></li>
<li class="toctree-l1"><a class="reference internal" href="random.html">Noise and Random Values</a></li>
<li class="toctree-l1"><a class="reference internal" href="wl.html">Weak Lensing</a></li>
<li class="toctree-l1"><a class="reference internal" href="photon.html">Photon Shooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="utilities.html">Helper Functions and Classes</a></li>
<li class="toctree-l1"><a class="reference internal" href="errors.html">Errors and Warnings</a></li>
<li class="toctree-l1"><a class="reference internal" href="config.html">The Config Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="hsm.html">The HSM Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="des.html">The DES Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="roman.html">The Roman Space Telescope Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="cpp.html">C++ Layer</a></li>
<li class="toctree-l1"><a class="reference internal" href="shared.html">Shared Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="history.html">Revision History</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">GalSim</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="chromatic.html">Wavelength-dependent Profiles</a> &raquo;</li>
      <li>Bandpass Filters</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/bandpass.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="bandpass-filters">
<h1>Bandpass Filters<a class="headerlink" href="#bandpass-filters" title="Permalink to this headline">¶</a></h1>
<dl class="py class">
<dt id="galsim.Bandpass">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">galsim.</span></code><code class="sig-name descname"><span class="pre">Bandpass</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">throughput</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wave_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">blue_limit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">red_limit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zeropoint</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_wave_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_tp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/galsim/bandpass.html#Bandpass"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#galsim.Bandpass" title="Permalink to this definition">¶</a></dt>
<dd><p>Simple bandpass object, which models the transmission fraction of incident light as a
function of wavelength, for either an entire optical path (e.g., atmosphere, reflecting and
refracting optics, filters, CCD quantum efficiency), or some intermediate piece thereof.
Bandpasses representing individual components may be combined through the <code class="docutils literal notranslate"><span class="pre">*</span></code> operator to form
a new Bandpass object representing the composite optical path.</p>
<p>Bandpasses are callable, returning dimensionless throughput as a function of wavelength in nm.</p>
<p>Bandpasses are immutable; all transformative methods return <em>new</em> Bandpasses, and leave their
originating Bandpasses unaltered.</p>
<p>Bandpasses require <code class="docutils literal notranslate"><span class="pre">blue_limit</span></code> and <code class="docutils literal notranslate"><span class="pre">red_limit</span></code> attributes, which may either be explicitly
set at initialization, or are inferred from the initializing <a class="reference internal" href="table.html#galsim.LookupTable" title="galsim.LookupTable"><code class="xref any py py-class docutils literal notranslate"><span class="pre">LookupTable</span></code></a> or 2-column file.</p>
<p>Outside of the wavelength interval between <code class="docutils literal notranslate"><span class="pre">blue_limit</span></code> and <code class="docutils literal notranslate"><span class="pre">red_limit</span></code>, the throughput is
returned as zero, regardless of the <code class="docutils literal notranslate"><span class="pre">throughput</span></code> input parameter.</p>
<p>Bandpasses may be multiplied by other Bandpasses, functions, scalars, or <a class="reference internal" href="sed.html#galsim.SED" title="galsim.SED"><code class="xref any py py-class docutils literal notranslate"><span class="pre">SED</span></code></a> instances.
The product of a Bandpass with an <a class="reference internal" href="sed.html#galsim.SED" title="galsim.SED"><code class="xref any py py-class docutils literal notranslate"><span class="pre">SED</span></code></a> is a new <a class="reference internal" href="sed.html#galsim.SED" title="galsim.SED"><code class="xref any py py-class docutils literal notranslate"><span class="pre">SED</span></code></a>.</p>
<p>The Bandpass effective wavelength is stored in the python property <code class="docutils literal notranslate"><span class="pre">effective_wavelength</span></code>. We
use throughput-weighted average wavelength (which is independent of any <a class="reference internal" href="sed.html#galsim.SED" title="galsim.SED"><code class="xref any py py-class docutils literal notranslate"><span class="pre">SED</span></code></a>) as our
definition for effective wavelength.</p>
<p>For Bandpasses defined using a <a class="reference internal" href="table.html#galsim.LookupTable" title="galsim.LookupTable"><code class="xref any py py-class docutils literal notranslate"><span class="pre">LookupTable</span></code></a>, a numpy.array of wavelengths, <code class="docutils literal notranslate"><span class="pre">wave_list</span></code>,
defining the table is maintained.  Bandpasses defined as products of two other Bandpasses will
define their <code class="docutils literal notranslate"><span class="pre">wave_list</span></code> as the union of multiplicand <code class="docutils literal notranslate"><span class="pre">wave_list</span></code> values, although limited
to the range between the new product <code class="docutils literal notranslate"><span class="pre">blue_limit</span></code> and <code class="docutils literal notranslate"><span class="pre">red_limit</span></code>.  (This implementation
detail may affect the choice of integrator used to draw a <a class="reference internal" href="chromaticobject.html#galsim.ChromaticObject" title="galsim.ChromaticObject"><code class="xref any py py-class docutils literal notranslate"><span class="pre">ChromaticObject</span></code></a>.)</p>
<p>The input parameter, throughput, may be one of several possible forms:</p>
<ol class="arabic">
<li><p>a regular python function (or an object that acts like a function)</p></li>
<li><p>a <a class="reference internal" href="table.html#galsim.LookupTable" title="galsim.LookupTable"><code class="xref any py py-class docutils literal notranslate"><span class="pre">LookupTable</span></code></a></p></li>
<li><p>a file from which a <a class="reference internal" href="table.html#galsim.LookupTable" title="galsim.LookupTable"><code class="xref any py py-class docutils literal notranslate"><span class="pre">LookupTable</span></code></a> can be read in</p></li>
<li><p>a string which can be evaluated to a function of <code class="docutils literal notranslate"><span class="pre">wave</span></code> via
<code class="docutils literal notranslate"><span class="pre">eval('lambda</span> <span class="pre">wave</span> <span class="pre">:</span> <span class="pre">'+throughput)</span></code>, e.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">throughput</span> <span class="o">=</span> <span class="s1">&#39;0.8 + 0.2 * (wave-800)&#39;</span>
</pre></div>
</div>
</li>
</ol>
<p>The argument of <code class="docutils literal notranslate"><span class="pre">throughput</span></code> will be the wavelength in units specified by <code class="docutils literal notranslate"><span class="pre">wave_type</span></code>. (See
below.) The output should be the dimensionless throughput at that wavelength.  (Note we use
<code class="docutils literal notranslate"><span class="pre">wave</span></code> rather than <code class="docutils literal notranslate"><span class="pre">lambda</span></code>, since <code class="docutils literal notranslate"><span class="pre">lambda</span></code> is a python reserved word.)</p>
<p>The argument <code class="docutils literal notranslate"><span class="pre">wave_type</span></code> specifies the units to assume for wavelength and must be one of
‘nm’, ‘nanometer’, ‘nanometers’, ‘A’, ‘Ang’, ‘Angstrom’, or ‘Angstroms’, or an astropy
distance unit.  (For the string values, case is unimportant.)  If given, blue_limit and
red_limit are taken to be in these units as well.</p>
<p>Note that the <code class="docutils literal notranslate"><span class="pre">wave_type</span></code> parameter does not propagate into other methods of Bandpass.
For instance, <a class="reference internal" href="#galsim.Bandpass.__call__" title="galsim.Bandpass.__call__"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">Bandpass.__call__</span></code></a> assumes its input argument is in nanometers.</p>
<p>Finally, a Bandpass may have zeropoint attribute, which is a float used to convert flux
(in photons/s/cm^2) to magnitudes:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mag</span> <span class="o">=</span> <span class="o">-</span><span class="mf">2.5</span><span class="o">*</span><span class="n">log10</span><span class="p">(</span><span class="n">flux</span><span class="p">)</span> <span class="o">+</span> <span class="n">zeropoint</span>
</pre></div>
</div>
<p>You can either set the zeropoint at initialization, or via the <a class="reference internal" href="#galsim.Bandpass.withZeropoint" title="galsim.Bandpass.withZeropoint"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">withZeropoint</span></code></a> method.  Note
that the zeropoint attribute does not propagate if you get a new Bandpass by multiplying or
dividing an old Bandpass.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>throughput</strong> – Function defining the throughput at each wavelength.  See above for
valid options for this parameter.</p></li>
<li><p><strong>wave_type</strong> – The units to use for the wavelength argument of the <code class="docutils literal notranslate"><span class="pre">throughput</span></code>
function. See above for details.</p></li>
<li><p><strong>blue_limit</strong> – Hard cut off of bandpass on the blue side. [default: None, but required
if throughput is not a <a class="reference internal" href="table.html#galsim.LookupTable" title="galsim.LookupTable"><code class="xref any py py-class docutils literal notranslate"><span class="pre">LookupTable</span></code></a> or file.  See above.]</p></li>
<li><p><strong>red_limit</strong> – Hard cut off of bandpass on the red side. [default: None, but required
if throughput is not a <a class="reference internal" href="table.html#galsim.LookupTable" title="galsim.LookupTable"><code class="xref any py py-class docutils literal notranslate"><span class="pre">LookupTable</span></code></a> or file.  See above.]</p></li>
<li><p><strong>zeropoint</strong> – Set the zero-point for this Bandpass.  Here, this can only be a float
value.  See the method <a class="reference internal" href="#galsim.Bandpass.withZeropoint" title="galsim.Bandpass.withZeropoint"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">withZeropoint</span></code></a> for other options for how to
set this using a particular spectrum (AB, Vega, etc.) [default: None]</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="galsim.Bandpass.__call__">
<code class="sig-name descname"><span class="pre">__call__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">wave</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/galsim/bandpass.html#Bandpass.__call__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#galsim.Bandpass.__call__" title="Permalink to this definition">¶</a></dt>
<dd><p>Return dimensionless throughput of bandpass at given wavelength in nanometers.</p>
<p>Note that outside of the wavelength range defined by the <code class="docutils literal notranslate"><span class="pre">blue_limit</span></code> and <code class="docutils literal notranslate"><span class="pre">red_limit</span></code>
attributes, the throughput is assumed to be zero.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>wave</strong> – Wavelength in nanometers. (Either a scalar or a numpy array)</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the dimensionless throughput.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="galsim.Bandpass.calculateEffectiveWavelength">
<code class="sig-name descname"><span class="pre">calculateEffectiveWavelength</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">precise</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/galsim/bandpass.html#Bandpass.calculateEffectiveWavelength"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#galsim.Bandpass.calculateEffectiveWavelength" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate, store, and return the effective wavelength for this bandpass.</p>
<p>We define the effective wavelength as the throughput-weighted average wavelength, which is
SED-independent.  Units are nanometers.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>precise</strong> – Optionally use a more precise integration method when the bandpass uses
a <a class="reference internal" href="table.html#galsim.LookupTable" title="galsim.LookupTable"><code class="xref any py py-class docutils literal notranslate"><span class="pre">LookupTable</span></code></a> rather than the normal trapezoid rule. [default: False]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="galsim.Bandpass.effective_wavelength">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">effective_wavelength</span></code><a class="headerlink" href="#galsim.Bandpass.effective_wavelength" title="Permalink to this definition">¶</a></dt>
<dd><p>The effective wavelength of the <a class="reference internal" href="#galsim.Bandpass" title="galsim.Bandpass"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Bandpass</span></code></a>.</p>
<p>An alias for <code class="docutils literal notranslate"><span class="pre">self.calculateEffectiveWavelength()</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt id="galsim.Bandpass.thin">
<code class="sig-name descname"><span class="pre">thin</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rel_err</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0001</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trim_zeros</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">preserve_range</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fast_search</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">preserve_zp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/galsim/bandpass.html#Bandpass.thin"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#galsim.Bandpass.thin" title="Permalink to this definition">¶</a></dt>
<dd><p>Thin out the internal wavelengths of a <a class="reference internal" href="#galsim.Bandpass" title="galsim.Bandpass"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Bandpass</span></code></a> that uses a <a class="reference internal" href="table.html#galsim.LookupTable" title="galsim.LookupTable"><code class="xref any py py-class docutils literal notranslate"><span class="pre">LookupTable</span></code></a>.</p>
<p>If the bandpass was initialized with a <a class="reference internal" href="table.html#galsim.LookupTable" title="galsim.LookupTable"><code class="xref any py py-class docutils literal notranslate"><span class="pre">LookupTable</span></code></a> or from a file (which internally
creates a <a class="reference internal" href="table.html#galsim.LookupTable" title="galsim.LookupTable"><code class="xref any py py-class docutils literal notranslate"><span class="pre">LookupTable</span></code></a>), this function removes tabulated values while keeping the integral
over the set of tabulated values still accurate to the given relative error.</p>
<p>That is, the integral of the bandpass function is preserved to a relative precision
of <code class="docutils literal notranslate"><span class="pre">rel_err</span></code>, while eliminating as many internal wavelength values as possible.  This
process will usually help speed up integrations using this bandpass.  You should weigh
the speed improvements against your fidelity requirements for your particular use
case.</p>
<p>By default, this routine will preserve the zeropoint of the original bandpass by assigning
it to the new thinned bandpass.  The justification for this choice is that when using an AB
zeropoint, a typical optical bandpass, and the default thinning <code class="docutils literal notranslate"><span class="pre">rel_err</span></code> value, the
zeropoint for the new and thinned bandpasses changes by 10^-6.  However, if you are thinning
a lot, and/or want to do extremely precise tests, you can set <code class="docutils literal notranslate"><span class="pre">preserve_zp=False</span></code> and then
recalculate the zeropoint after thinning.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rel_err</strong> – The relative error allowed in the integral over the throughput
function. [default: 1.e-4]</p></li>
<li><p><strong>trim_zeros</strong> – Remove redundant leading and trailing points where f=0?  (The last
leading point with f=0 and the first trailing point with f=0 will
be retained).  Note that if both trim_leading_zeros and
preserve_range are True, then the only the range of <code class="docutils literal notranslate"><span class="pre">x</span></code> <em>after</em>
zero trimming is preserved.  [default: True]</p></li>
<li><p><strong>preserve_range</strong> – Should the original range (<code class="docutils literal notranslate"><span class="pre">blue_limit</span></code> and <code class="docutils literal notranslate"><span class="pre">red_limit</span></code>) of the
<a class="reference internal" href="#galsim.Bandpass" title="galsim.Bandpass"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Bandpass</span></code></a> be preserved? (True) Or should the ends be trimmed to
include only the region where the integral is significant? (False)
[default: True]</p></li>
<li><p><strong>fast_search</strong> – If set to True, then the underlying algorithm will use a
relatively fast O(N) algorithm to select points to include in the
thinned approximation.  If set to False, then a slower O(N^2)
algorithm will be used.  We have found that the slower algorithm
tends to yield a thinned representation that retains fewer samples
while still meeting the relative error requirement, and may also
be somewhat more robust when computing an <a class="reference internal" href="sed.html#galsim.SED" title="galsim.SED"><code class="xref any py py-class docutils literal notranslate"><span class="pre">SED</span></code></a> flux through
a <a class="reference internal" href="#galsim.Bandpass" title="galsim.Bandpass"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Bandpass</span></code></a> when a significant fraction of the integrated flux
passes through low throughput bandpass light leaks.
[default: True]</p></li>
<li><p><strong>preserve_zp</strong> – If True, the new thinned <a class="reference internal" href="#galsim.Bandpass" title="galsim.Bandpass"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Bandpass</span></code></a> will be assigned the same
zeropoint as the original.  If False, the new thinned <a class="reference internal" href="#galsim.Bandpass" title="galsim.Bandpass"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Bandpass</span></code></a>
will have a zeropoint of None. [default: True]</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the thinned <a class="reference internal" href="#galsim.Bandpass" title="galsim.Bandpass"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Bandpass</span></code></a>.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="galsim.Bandpass.truncate">
<code class="sig-name descname"><span class="pre">truncate</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">blue_limit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">red_limit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">relative_throughput</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">preserve_zp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'auto'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/galsim/bandpass.html#Bandpass.truncate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#galsim.Bandpass.truncate" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a bandpass with its wavelength range truncated.</p>
<p>This function truncate the range of the bandpass either explicitly (with <code class="docutils literal notranslate"><span class="pre">blue_limit</span></code> or
<code class="docutils literal notranslate"><span class="pre">red_limit</span></code> or both) or automatically, just trimming off leading and trailing wavelength
ranges where the relative throughput is less than some amount (<code class="docutils literal notranslate"><span class="pre">relative_throughput</span></code>).</p>
<p>This second option using relative_throughput is only available for bandpasses initialized
with a <a class="reference internal" href="table.html#galsim.LookupTable" title="galsim.LookupTable"><code class="xref any py py-class docutils literal notranslate"><span class="pre">LookupTable</span></code></a> or from a file, not when using a regular python function or a string
evaluation.</p>
<p>This function does not remove any intermediate wavelength ranges, but see thin() for
a method that can thin out the intermediate values.</p>
<p>When truncating a bandpass that already has an assigned zeropoint, there are several
possibilities for what should happen to the new (returned) bandpass by default.  If red
and/or blue limits are given, then the new bandpass will have no assigned zeropoint because
it is difficult to predict what should happen if the bandpass is being arbitrarily
truncated.  If <code class="docutils literal notranslate"><span class="pre">relative_throughput</span></code> is given, often corresponding to low-level truncation
that results in little change in observed quantities, then the new bandpass is assigned the
same zeropoint as the original.  This default behavior is called ‘auto’.  The user can also
give boolean True or False values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>blue_limit</strong> – Truncate blue side of bandpass at this wavelength in nm.
[default: None]</p></li>
<li><p><strong>red_limit</strong> – Truncate red side of bandpass at this wavelength in nm.
[default: None]</p></li>
<li><p><strong>relative_throughput</strong> – Truncate leading or trailing wavelengths that are below
this relative throughput level.  (See above for details.)
Either <code class="docutils literal notranslate"><span class="pre">blue_limit</span></code> and/or <code class="docutils literal notranslate"><span class="pre">red_limit</span></code> should be supplied,
or <code class="docutils literal notranslate"><span class="pre">relative_throughput</span></code> should be supplied – but
<code class="docutils literal notranslate"><span class="pre">relative_throughput</span></code> should not be combined with one of the
limits.
[default: None]</p></li>
<li><p><strong>preserve_zp</strong> – If True, the new truncated <a class="reference internal" href="#galsim.Bandpass" title="galsim.Bandpass"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Bandpass</span></code></a> will be assigned the same
zeropoint as the original.  If False, the new truncated
<a class="reference internal" href="#galsim.Bandpass" title="galsim.Bandpass"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Bandpass</span></code></a> will have a zeropoint of None. If ‘auto’, the new
truncated <a class="reference internal" href="#galsim.Bandpass" title="galsim.Bandpass"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Bandpass</span></code></a> will have the same zeropoint as the
original when truncating using <code class="docutils literal notranslate"><span class="pre">relative_throughput</span></code>, but
will have a zeropoint of None when truncating using
‘blue_limit’ and/or ‘red_limit’.  [default: ‘auto’]</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the truncated <a class="reference internal" href="#galsim.Bandpass" title="galsim.Bandpass"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Bandpass</span></code></a>.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="galsim.Bandpass.withZeropoint">
<code class="sig-name descname"><span class="pre">withZeropoint</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">zeropoint</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/galsim/bandpass.html#Bandpass.withZeropoint"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#galsim.Bandpass.withZeropoint" title="Permalink to this definition">¶</a></dt>
<dd><p>Assign a zeropoint to this <a class="reference internal" href="#galsim.Bandpass" title="galsim.Bandpass"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Bandpass</span></code></a>.</p>
<p>A bandpass zeropoint is a float used to convert flux (in photons/s/cm^2) to magnitudes:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mag</span> <span class="o">=</span> <span class="o">-</span><span class="mf">2.5</span><span class="o">*</span><span class="n">log10</span><span class="p">(</span><span class="n">flux</span><span class="p">)</span> <span class="o">+</span> <span class="n">zeropoint</span>
</pre></div>
</div>
<p>Note that the zeropoint attribute does not propagate if you get a new <a class="reference internal" href="#galsim.Bandpass" title="galsim.Bandpass"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Bandpass</span></code></a> by
multiplying or dividing an old <a class="reference internal" href="#galsim.Bandpass" title="galsim.Bandpass"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Bandpass</span></code></a>.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">zeropoint</span></code> argument can take a variety of possible forms:</p>
<ol class="arabic simple">
<li><p>a number, which will be the zeropoint</p></li>
<li><p>a <a class="reference internal" href="sed.html#galsim.SED" title="galsim.SED"><code class="xref any py py-class docutils literal notranslate"><span class="pre">galsim.SED</span></code></a>.  In this case, the zeropoint is set such that the magnitude of the
supplied <a class="reference internal" href="sed.html#galsim.SED" title="galsim.SED"><code class="xref any py py-class docutils literal notranslate"><span class="pre">SED</span></code></a> through the <a class="reference internal" href="#galsim.Bandpass" title="galsim.Bandpass"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Bandpass</span></code></a> is 0.0</p></li>
<li><p>the string ‘AB’.  In this case, use an AB zeropoint.</p></li>
<li><p>the string ‘Vega’.  Use a Vega zeropoint.</p></li>
<li><p>the string ‘ST’.  Use a HST STmag zeropoint.</p></li>
</ol>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>zeropoint</strong> – See above for valid input options</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>new <a class="reference internal" href="#galsim.Bandpass" title="galsim.Bandpass"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Bandpass</span></code></a> with zeropoint set.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="sed.html" class="btn btn-neutral float-left" title="Spectral Energy Distributions" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="chromaticobject.html" class="btn btn-neutral float-right" title="Chromatic Profiles" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2019, GalSim-developers.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>