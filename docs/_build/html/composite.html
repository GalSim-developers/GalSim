

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Composite Profiles &mdash; GalSim 2.2.5 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Transformed Profiles" href="transform.html" />
    <link rel="prev" title="“Real” Galaxies" href="real_gal.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> GalSim
          

          
          </a>

          
            
            
              <div class="version">
                2.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation Instructions</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorials.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="image.html">Images and Related Concepts</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="sb.html">Surface Brightness Profiles</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="gsobject.html">The GSObject base class</a></li>
<li class="toctree-l2"><a class="reference internal" href="simple.html">Simple Profiles</a></li>
<li class="toctree-l2"><a class="reference internal" href="psf.html">Point-spread functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="gal.html">Galaxies</a></li>
<li class="toctree-l2"><a class="reference internal" href="arbitrary.html">Aribtrary Profiles</a></li>
<li class="toctree-l2"><a class="reference internal" href="phase_psf.html">Phase-screen PSFs</a></li>
<li class="toctree-l2"><a class="reference internal" href="real_gal.html">“Real” Galaxies</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Composite Profiles</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#sums-of-gsobjects">Sums of GSObjects</a></li>
<li class="toctree-l3"><a class="reference internal" href="#convolutions-of-gsobjects">Convolutions of GSObjects</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="transform.html">Transformed Profiles</a></li>
<li class="toctree-l2"><a class="reference internal" href="gsparams.html">The GSParams class</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="chromatic.html">Wavelength-dependent Profiles</a></li>
<li class="toctree-l1"><a class="reference internal" href="units.html">Units</a></li>
<li class="toctree-l1"><a class="reference internal" href="wcs.html">World Coordinate Systems</a></li>
<li class="toctree-l1"><a class="reference internal" href="random.html">Noise and Random Values</a></li>
<li class="toctree-l1"><a class="reference internal" href="wl.html">Weak Lensing</a></li>
<li class="toctree-l1"><a class="reference internal" href="photon.html">Photon Shooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="utilities.html">Helper Functions and Classes</a></li>
<li class="toctree-l1"><a class="reference internal" href="errors.html">Errors and Warnings</a></li>
<li class="toctree-l1"><a class="reference internal" href="config.html">The Config Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="hsm.html">The HSM Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="des.html">The DES Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="wfirst.html">The WFIRST Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="shared.html">Shared Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="history.html">Revision History</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">GalSim</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="sb.html">Surface Brightness Profiles</a> &raquo;</li>
        
      <li>Composite Profiles</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/composite.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="composite-profiles">
<h1>Composite Profiles<a class="headerlink" href="#composite-profiles" title="Permalink to this headline">¶</a></h1>
<p>The above profiles can be combined in various ways including sums and convolutions.</p>
<div class="section" id="sums-of-gsobjects">
<h2>Sums of GSObjects<a class="headerlink" href="#sums-of-gsobjects" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="galsim.Sum">
<em class="property">class </em><code class="sig-prename descclassname">galsim.</code><code class="sig-name descname">Sum</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/galsim/sum.html#Sum"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#galsim.Sum" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">galsim.gsobject.GSObject</span></code></p>
<p>A class for adding 2 or more <a class="reference internal" href="gsobject.html#galsim.GSObject" title="galsim.GSObject"><code class="xref any py py-class docutils literal notranslate"><span class="pre">GSObject</span></code></a> instances.</p>
<p>The Sum class is used to represent the sum of multiple <a class="reference internal" href="gsobject.html#galsim.GSObject" title="galsim.GSObject"><code class="xref any py py-class docutils literal notranslate"><span class="pre">GSObject</span></code></a> instances.  For example, it
might be used to represent a multiple-component galaxy as the sum of an Exponential and a
DeVaucouleurs, or to represent a PSF as the sum of multiple Gaussian objects.</p>
<p>Typically, you do not need to construct a Sum object explicitly.  Normally, you would just
use the + operator, which returns a Sum:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">bulge</span> <span class="o">=</span> <span class="n">galsim</span><span class="o">.</span><span class="n">Sersic</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">half_light_radius</span><span class="o">=</span><span class="mf">0.8</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">disk</span> <span class="o">=</span> <span class="n">galsim</span><span class="o">.</span><span class="n">Exponential</span><span class="p">(</span><span class="n">half_light_radius</span><span class="o">=</span><span class="mf">1.4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gal</span> <span class="o">=</span> <span class="n">bulge</span> <span class="o">+</span> <span class="n">disk</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">psf</span> <span class="o">=</span> <span class="n">galsim</span><span class="o">.</span><span class="n">Gaussian</span><span class="p">(</span><span class="n">sigma</span><span class="o">=</span><span class="mf">0.3</span><span class="p">,</span> <span class="n">flux</span><span class="o">=</span><span class="mf">0.3</span><span class="p">)</span> <span class="o">+</span> <span class="n">galsim</span><span class="o">.</span><span class="n">Gaussian</span><span class="p">(</span><span class="n">sigma</span><span class="o">=</span><span class="mf">0.8</span><span class="p">,</span> <span class="n">flux</span><span class="o">=</span><span class="mf">0.7</span><span class="p">)</span>
</pre></div>
</div>
<p>You can also use the Add() factory function, which returns a Sum object if none of the
individual objects are chromatic:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">gal</span> <span class="o">=</span> <span class="n">galsim</span><span class="o">.</span><span class="n">Add</span><span class="p">([</span><span class="n">bulge</span><span class="p">,</span><span class="n">disk</span><span class="p">])</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>args</strong> – Unnamed args should be a list of objects to add.</p></li>
<li><p><strong>gsparams</strong> – An optional <a class="reference internal" href="gsparams.html#galsim.GSParams" title="galsim.GSParams"><code class="xref any py py-class docutils literal notranslate"><span class="pre">GSParams</span></code></a> argument. [default: None]</p></li>
<li><p><strong>propagate_gsparams</strong> – Whether to propagate gsparams to each of the components.  This
is normally a good idea, but there may be use cases where one
would not want to do this. [default: True]</p></li>
</ul>
</dd>
</dl>
<p>Note: if <code class="docutils literal notranslate"><span class="pre">gsparams</span></code> is unspecified (or None), then the Sum instance will use the most
restrictive combination of parameters from each of the component objects. Normally, this means
the smallest numerical value (e.g. folding_threshold, xvalue_accuracy, etc.), but for a few
parameters, the largest numerical value is used.  See <a class="reference internal" href="gsparams.html#galsim.GSParams.combine" title="galsim.GSParams.combine"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">GSParams.combine</span></code></a> for details.</p>
<p>Furthermore, the gsparams used for the Sum (either given explicitly or derived from the
components) will normally be applied to each of the components.  It doesn’t usually make much
sense to apply stricter-than-normal accuracy or threshold values to one component but not
another in a Sum, so this ensures that they all have consistent rendering behavior.
However, if you want to keep the existing gsparams of the component objects (e.g. because
one object is much fainter and can thus use looser accuracy tolerances), then you may
set <code class="docutils literal notranslate"><span class="pre">propagate_gsparams=False</span></code>.</p>
<dl class="py method">
<dt id="galsim.Sum.obj_list">
<em class="property">property </em><code class="sig-name descname">obj_list</code><a class="headerlink" href="#galsim.Sum.obj_list" title="Permalink to this definition">¶</a></dt>
<dd><p>The list of objects being added.</p>
</dd></dl>

<dl class="py method">
<dt id="galsim.Sum.withGSParams">
<code class="sig-name descname">withGSParams</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">gsparams</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/galsim/sum.html#Sum.withGSParams"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#galsim.Sum.withGSParams" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a version of the current object with the given gsparams</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Unless you set <code class="docutils literal notranslate"><span class="pre">propagate_gsparams=False</span></code>, this method will also update the gsparams
of each object being added.</p>
</div>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="galsim.Add">
<code class="sig-prename descclassname">galsim.</code><code class="sig-name descname">Add</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/galsim/sum.html#Add"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#galsim.Add" title="Permalink to this definition">¶</a></dt>
<dd><p>A function for adding 2 or more <a class="reference internal" href="gsobject.html#galsim.GSObject" title="galsim.GSObject"><code class="xref any py py-class docutils literal notranslate"><span class="pre">GSObject</span></code></a> or <a class="reference internal" href="chromaticobject.html#galsim.ChromaticObject" title="galsim.ChromaticObject"><code class="xref any py py-class docutils literal notranslate"><span class="pre">ChromaticObject</span></code></a> instances.</p>
<p>This function will inspect its input arguments to decide if a <a class="reference internal" href="#galsim.Sum" title="galsim.Sum"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Sum</span></code></a> object or a
<a class="reference internal" href="chromaticobject.html#galsim.ChromaticSum" title="galsim.ChromaticSum"><code class="xref any py py-class docutils literal notranslate"><span class="pre">ChromaticSum</span></code></a> object is required to represent the sum of surface brightness profiles.</p>
<p>Typically, you do not need to call Add() explicitly.  Normally, you would just use the +
operator, which returns a Sum:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">bulge</span> <span class="o">=</span> <span class="n">galsim</span><span class="o">.</span><span class="n">Sersic</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">half_light_radius</span><span class="o">=</span><span class="mf">0.8</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">disk</span> <span class="o">=</span> <span class="n">galsim</span><span class="o">.</span><span class="n">Exponential</span><span class="p">(</span><span class="n">half_light_radius</span><span class="o">=</span><span class="mf">1.4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gal</span> <span class="o">=</span> <span class="n">bulge</span> <span class="o">+</span> <span class="n">disk</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">psf</span> <span class="o">=</span> <span class="n">galsim</span><span class="o">.</span><span class="n">Gaussian</span><span class="p">(</span><span class="n">sigma</span><span class="o">=</span><span class="mf">0.3</span><span class="p">,</span> <span class="n">flux</span><span class="o">=</span><span class="mf">0.3</span><span class="p">)</span> <span class="o">+</span> <span class="n">galsim</span><span class="o">.</span><span class="n">Gaussian</span><span class="p">(</span><span class="n">sigma</span><span class="o">=</span><span class="mf">0.8</span><span class="p">,</span> <span class="n">flux</span><span class="o">=</span><span class="mf">0.7</span><span class="p">)</span>
</pre></div>
</div>
<p>If one of the items is chromatic, it will return a <a class="reference internal" href="chromaticobject.html#galsim.ChromaticSum" title="galsim.ChromaticSum"><code class="xref any py py-class docutils literal notranslate"><span class="pre">ChromaticSum</span></code></a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">disk</span> <span class="o">=</span> <span class="n">galsim</span><span class="o">.</span><span class="n">Exponential</span><span class="p">(</span><span class="n">half_light_radius</span><span class="o">=</span><span class="mf">1.4</span><span class="p">)</span> <span class="o">*</span> <span class="n">galsim</span><span class="o">.</span><span class="n">SED</span><span class="p">(</span><span class="n">sed_file</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gal</span> <span class="o">=</span> <span class="n">bulge</span> <span class="o">+</span> <span class="n">disk</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>args</strong> – Unnamed args should be a list of objects to add.</p></li>
<li><p><strong>gsparams</strong> – An optional <a class="reference internal" href="gsparams.html#galsim.GSParams" title="galsim.GSParams"><code class="xref any py py-class docutils literal notranslate"><span class="pre">GSParams</span></code></a> argument. [default: None]</p></li>
<li><p><strong>propagate_gsparams</strong> – Whether to propagate gsparams to each of the components.  This
is normally a good idea, but there may be use cases where one
would not want to do this. [default: True]</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a <a class="reference internal" href="#galsim.Sum" title="galsim.Sum"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Sum</span></code></a> or <a class="reference internal" href="chromaticobject.html#galsim.ChromaticSum" title="galsim.ChromaticSum"><code class="xref any py py-class docutils literal notranslate"><span class="pre">ChromaticSum</span></code></a> instance as appropriate.</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="convolutions-of-gsobjects">
<h2>Convolutions of GSObjects<a class="headerlink" href="#convolutions-of-gsobjects" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="galsim.Convolution">
<em class="property">class </em><code class="sig-prename descclassname">galsim.</code><code class="sig-name descname">Convolution</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/galsim/convolve.html#Convolution"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#galsim.Convolution" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">galsim.gsobject.GSObject</span></code></p>
<p>A class for convolving 2 or more <a class="reference internal" href="gsobject.html#galsim.GSObject" title="galsim.GSObject"><code class="xref any py py-class docutils literal notranslate"><span class="pre">GSObject</span></code></a> instances.</p>
<p>The convolution will normally be done using discrete Fourier transforms of each of the component
profiles, multiplying them together, and then transforming back to real space.</p>
<p>There is also an option to do the convolution as integrals in real space.  To do this, use the
optional keyword argument <code class="docutils literal notranslate"><span class="pre">`real_space</span> <span class="pre">=</span> <span class="pre">True</span></code>.  Currently, the real-space integration is only
enabled for convolving 2 profiles.  (Aside from the trivial implementaion for 1 profile.)  If
you try to use it for more than 2 profiles, an exception will be raised.</p>
<p>The real-space convolution is normally slower than the DFT convolution.  The exception is if
both component profiles have hard edges, e.g. a truncated <a class="reference internal" href="psf.html#galsim.Moffat" title="galsim.Moffat"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Moffat</span></code></a> or <a class="reference internal" href="gal.html#galsim.Sersic" title="galsim.Sersic"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Sersic</span></code></a> with a <a class="reference internal" href="simple.html#galsim.Pixel" title="galsim.Pixel"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Pixel</span></code></a>.
In that case, the highest frequency <code class="docutils literal notranslate"><span class="pre">maxk</span></code> for each component is quite large since the
ringing dies off fairly slowly.  So it can be quicker to use real-space convolution instead.
Also, real-space convolution tends to be more accurate in this case as well.</p>
<p>If you do not specify either <code class="docutils literal notranslate"><span class="pre">real_space</span> <span class="pre">=</span> <span class="pre">True</span></code> or <code class="docutils literal notranslate"><span class="pre">False</span></code> explicitly, then we check if
there are 2 profiles, both of which have hard edges.  In this case, we automatically use
real-space convolution.  In all other cases, the default is not to use real-space convolution.</p>
<p>The normal way to use this class is to use the Convolve() factory function:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">gal</span> <span class="o">=</span> <span class="n">galsim</span><span class="o">.</span><span class="n">Sersic</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">half_light_radius</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">psf</span> <span class="o">=</span> <span class="n">galsim</span><span class="o">.</span><span class="n">Gaussian</span><span class="p">(</span><span class="n">sigma</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">final</span> <span class="o">=</span> <span class="n">galsim</span><span class="o">.</span><span class="n">Convolve</span><span class="p">([</span><span class="n">gal</span><span class="p">,</span> <span class="n">psf</span><span class="p">])</span>
</pre></div>
</div>
<p>The objects to be convolved may be provided either as multiple unnamed arguments (e.g.
<code class="docutils literal notranslate"><span class="pre">Convolve(psf,</span> <span class="pre">gal)</span></code>) or as a list (e.g. <code class="docutils literal notranslate"><span class="pre">Convolve([psf,</span> <span class="pre">gal])</span></code>).  Any number of objects may
be provided using either syntax.  (Well, the list has to include at least 1 item.)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>args</strong> – Unnamed args should be a list of objects to convolve.</p></li>
<li><p><strong>real_space</strong> – Whether to use real space convolution.  [default: None, which means
to automatically decide this according to whether the objects have hard
edges.]</p></li>
<li><p><strong>gsparams</strong> – An optional <a class="reference internal" href="gsparams.html#galsim.GSParams" title="galsim.GSParams"><code class="xref any py py-class docutils literal notranslate"><span class="pre">GSParams</span></code></a> argument. [default: None]</p></li>
<li><p><strong>propagate_gsparams</strong> – Whether to propagate gsparams to each of the components.  This
is normally a good idea, but there may be use cases where one
would not want to do this. [default: True]</p></li>
</ul>
</dd>
</dl>
<p>Note: if <code class="docutils literal notranslate"><span class="pre">gsparams</span></code> is unspecified (or None), then the Convolution instance will use the most
restrictive combination of parameters from each of the component objects. Normally, this means
the smallest numerical value (e.g. folding_threshold, xvalue_accuracy, etc.), but for a few
parameters, the largest numerical value is used.  See <a class="reference internal" href="gsparams.html#galsim.GSParams.combine" title="galsim.GSParams.combine"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">GSParams.combine</span></code></a> for details.</p>
<p>Furthermore, the gsparams used for the Convolution (either given explicitly or derived from the
components) will normally be applied to each of the components.  It doesn’t usually make much
sense to apply stricter-than-normal accuracy or threshold values to one component but not
another in a Convolution, so this ensures that they all have consistent rendering behavior.
However, if you want to keep the existing gsparams of the component objects, then you may
set <code class="docutils literal notranslate"><span class="pre">propagate_gsparams=False</span></code>.</p>
<dl class="py method">
<dt id="galsim.Convolution.obj_list">
<em class="property">property </em><code class="sig-name descname">obj_list</code><a class="headerlink" href="#galsim.Convolution.obj_list" title="Permalink to this definition">¶</a></dt>
<dd><p>The list of objects being convolved.</p>
</dd></dl>

<dl class="py method">
<dt id="galsim.Convolution.real_space">
<em class="property">property </em><code class="sig-name descname">real_space</code><a class="headerlink" href="#galsim.Convolution.real_space" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether this <a class="reference internal" href="#galsim.Convolution" title="galsim.Convolution"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Convolution</span></code></a> should be drawn using real-space convolution rather
than FFT convolution.</p>
</dd></dl>

<dl class="py method">
<dt id="galsim.Convolution.withGSParams">
<code class="sig-name descname">withGSParams</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">gsparams</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/galsim/convolve.html#Convolution.withGSParams"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#galsim.Convolution.withGSParams" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a version of the current object with the given gsparams</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Unless you set <code class="docutils literal notranslate"><span class="pre">propagate_gsparams=False</span></code>, this method will also update the gsparams
of each object being convolved.</p>
</div>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="galsim.Convolve">
<code class="sig-prename descclassname">galsim.</code><code class="sig-name descname">Convolve</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/galsim/convolve.html#Convolve"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#galsim.Convolve" title="Permalink to this definition">¶</a></dt>
<dd><p>A function for convolving 2 or more <a class="reference internal" href="gsobject.html#galsim.GSObject" title="galsim.GSObject"><code class="xref any py py-class docutils literal notranslate"><span class="pre">GSObject</span></code></a> or <a class="reference internal" href="chromaticobject.html#galsim.ChromaticObject" title="galsim.ChromaticObject"><code class="xref any py py-class docutils literal notranslate"><span class="pre">ChromaticObject</span></code></a> instances.</p>
<p>This function will inspect its input arguments to decide if a <a class="reference internal" href="#galsim.Convolution" title="galsim.Convolution"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Convolution</span></code></a> object or a
<a class="reference internal" href="chromaticobject.html#galsim.ChromaticConvolution" title="galsim.ChromaticConvolution"><code class="xref any py py-class docutils literal notranslate"><span class="pre">ChromaticConvolution</span></code></a> object is required to represent the convolution of surface
brightness profiles.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>args</strong> – Unnamed args should be a list of objects to convolve.</p></li>
<li><p><strong>real_space</strong> – Whether to use real space convolution.  [default: None, which means
to automatically decide this according to whether the objects have hard
edges.]</p></li>
<li><p><strong>gsparams</strong> – An optional <a class="reference internal" href="gsparams.html#galsim.GSParams" title="galsim.GSParams"><code class="xref any py py-class docutils literal notranslate"><span class="pre">GSParams</span></code></a> argument. [default: None]</p></li>
<li><p><strong>propagate_gsparams</strong> – Whether to propagate gsparams to each of the components.  This
is normally a good idea, but there may be use cases where one
would not want to do this. [default: True]</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a <a class="reference internal" href="#galsim.Convolution" title="galsim.Convolution"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Convolution</span></code></a> or <a class="reference internal" href="chromaticobject.html#galsim.ChromaticConvolution" title="galsim.ChromaticConvolution"><code class="xref any py py-class docutils literal notranslate"><span class="pre">ChromaticConvolution</span></code></a> instance as appropriate.</p>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt id="galsim.AutoConvolution">
<em class="property">class </em><code class="sig-prename descclassname">galsim.</code><code class="sig-name descname">AutoConvolution</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">obj</span></em>, <em class="sig-param"><span class="n">real_space</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">gsparams</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">propagate_gsparams</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/galsim/convolve.html#AutoConvolution"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#galsim.AutoConvolution" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">galsim.convolve.Convolution</span></code></p>
<p>A special class for convolving a <a class="reference internal" href="gsobject.html#galsim.GSObject" title="galsim.GSObject"><code class="xref any py py-class docutils literal notranslate"><span class="pre">GSObject</span></code></a> with itself.</p>
<p>It is equivalent in functionality to <code class="docutils literal notranslate"><span class="pre">Convolve([obj,obj])</span></code>, but takes advantage of
the fact that the two profiles are the same for some efficiency gains.</p>
<p>The normal way to use this class is to use the AutoConvolve() factory function:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">psf_sq</span> <span class="o">=</span> <span class="n">galsim</span><span class="o">.</span><span class="n">AutoConvolve</span><span class="p">(</span><span class="n">psf</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>obj</strong> – The object to be convolved with itself.</p></li>
<li><p><strong>real_space</strong> – Whether to use real space convolution.  [default: None, which means
to automatically decide this according to whether the object has hard
edges.]</p></li>
<li><p><strong>gsparams</strong> – An optional <a class="reference internal" href="gsparams.html#galsim.GSParams" title="galsim.GSParams"><code class="xref any py py-class docutils literal notranslate"><span class="pre">GSParams</span></code></a> argument. [default: None]</p></li>
<li><p><strong>propagate_gsparams</strong> – Whether to propagate gsparams to the auto-convolved object.  This
is normally a good idea, but there may be use cases where one
would not want to do this. [default: True]</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="galsim.AutoConvolution.orig_obj">
<em class="property">property </em><code class="sig-name descname">orig_obj</code><a class="headerlink" href="#galsim.AutoConvolution.orig_obj" title="Permalink to this definition">¶</a></dt>
<dd><p>The original object that is being auto-convolved.</p>
</dd></dl>

<dl class="py method">
<dt id="galsim.AutoConvolution.real_space">
<em class="property">property </em><code class="sig-name descname">real_space</code><a class="headerlink" href="#galsim.AutoConvolution.real_space" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether this <a class="reference internal" href="#galsim.Convolution" title="galsim.Convolution"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Convolution</span></code></a> should be drawn using real-space convolution rather
than FFT convolution.</p>
</dd></dl>

<dl class="py method">
<dt id="galsim.AutoConvolution.withGSParams">
<code class="sig-name descname">withGSParams</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">gsparams</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/galsim/convolve.html#AutoConvolution.withGSParams"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#galsim.AutoConvolution.withGSParams" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a version of the current object with the given gsparams</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Unless you set <code class="docutils literal notranslate"><span class="pre">propagate_gsparams=False</span></code>, this method will also update the gsparams
of the wrapped component object.</p>
</div>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="galsim.AutoConvolve">
<code class="sig-prename descclassname">galsim.</code><code class="sig-name descname">AutoConvolve</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">obj</span></em>, <em class="sig-param"><span class="n">real_space</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">gsparams</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">propagate_gsparams</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/galsim/convolve.html#AutoConvolve"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#galsim.AutoConvolve" title="Permalink to this definition">¶</a></dt>
<dd><p>A function for autoconvolving either a <a class="reference internal" href="gsobject.html#galsim.GSObject" title="galsim.GSObject"><code class="xref any py py-class docutils literal notranslate"><span class="pre">GSObject</span></code></a> or <a class="reference internal" href="chromaticobject.html#galsim.ChromaticObject" title="galsim.ChromaticObject"><code class="xref any py py-class docutils literal notranslate"><span class="pre">ChromaticObject</span></code></a>.</p>
<p>This function will inspect its input argument to decide if a <a class="reference internal" href="#galsim.AutoConvolution" title="galsim.AutoConvolution"><code class="xref any py py-class docutils literal notranslate"><span class="pre">AutoConvolution</span></code></a> object or a
<a class="reference internal" href="chromaticobject.html#galsim.ChromaticAutoConvolution" title="galsim.ChromaticAutoConvolution"><code class="xref any py py-class docutils literal notranslate"><span class="pre">ChromaticAutoConvolution</span></code></a> object is required to represent the convolution of a surface
brightness profile with itself.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>obj</strong> – The object to be convolved with itself.</p></li>
<li><p><strong>real_space</strong> – Whether to use real space convolution.  [default: None, which means
to automatically decide this according to whether the object has hard
edges.]</p></li>
<li><p><strong>gsparams</strong> – An optional <a class="reference internal" href="gsparams.html#galsim.GSParams" title="galsim.GSParams"><code class="xref any py py-class docutils literal notranslate"><span class="pre">GSParams</span></code></a> argument. [default: None]</p></li>
<li><p><strong>propagate_gsparams</strong> – Whether to propagate gsparams to the auto-convolved object.  This
is normally a good idea, but there may be use cases where one
would not want to do this. [default: True]</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a <a class="reference internal" href="#galsim.AutoConvolution" title="galsim.AutoConvolution"><code class="xref any py py-class docutils literal notranslate"><span class="pre">AutoConvolution</span></code></a> or <a class="reference internal" href="chromaticobject.html#galsim.ChromaticAutoConvolution" title="galsim.ChromaticAutoConvolution"><code class="xref any py py-class docutils literal notranslate"><span class="pre">ChromaticAutoConvolution</span></code></a> instance as appropriate.</p>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt id="galsim.AutoCorrelation">
<em class="property">class </em><code class="sig-prename descclassname">galsim.</code><code class="sig-name descname">AutoCorrelation</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">obj</span></em>, <em class="sig-param"><span class="n">real_space</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">gsparams</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">propagate_gsparams</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/galsim/convolve.html#AutoCorrelation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#galsim.AutoCorrelation" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">galsim.convolve.Convolution</span></code></p>
<p>A special class for correlating a <a class="reference internal" href="gsobject.html#galsim.GSObject" title="galsim.GSObject"><code class="xref any py py-class docutils literal notranslate"><span class="pre">GSObject</span></code></a> with itself.</p>
<p>It is equivalent in functionality to:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">galsim</span><span class="o">.</span><span class="n">Convolve</span><span class="p">([</span><span class="n">obj</span><span class="p">,</span><span class="n">obj</span><span class="o">.</span><span class="n">createRotated</span><span class="p">(</span><span class="mf">180.</span><span class="o">*</span><span class="n">galsim</span><span class="o">.</span><span class="n">degrees</span><span class="p">)])</span>
</pre></div>
</div>
<p>but takes advantage of the fact that the two profiles are the same for some efficiency gains.</p>
<p>This class is primarily targeted for use by the <a class="reference internal" href="corr_noise.html#galsim.BaseCorrelatedNoise" title="galsim.BaseCorrelatedNoise"><code class="xref any py py-class docutils literal notranslate"><span class="pre">BaseCorrelatedNoise</span></code></a> models when convolving
with a <a class="reference internal" href="gsobject.html#galsim.GSObject" title="galsim.GSObject"><code class="xref any py py-class docutils literal notranslate"><span class="pre">GSObject</span></code></a>.</p>
<p>The normal way to use this class is to use the <a class="reference internal" href="#galsim.AutoCorrelate" title="galsim.AutoCorrelate"><code class="xref any py py-func docutils literal notranslate"><span class="pre">AutoCorrelate</span></code></a> factory function:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">psf_sq</span> <span class="o">=</span> <span class="n">galsim</span><span class="o">.</span><span class="n">AutoCorrelate</span><span class="p">(</span><span class="n">psf</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>obj</strong> – The object to be convolved with itself.</p></li>
<li><p><strong>real_space</strong> – Whether to use real space convolution.  [default: None, which means
to automatically decide this according to whether the object has hard
edges.]</p></li>
<li><p><strong>gsparams</strong> – An optional <a class="reference internal" href="gsparams.html#galsim.GSParams" title="galsim.GSParams"><code class="xref any py py-class docutils literal notranslate"><span class="pre">GSParams</span></code></a> argument. [default: None]</p></li>
<li><p><strong>propagate_gsparams</strong> – Whether to propagate gsparams to the auto-convorrelated object.
This is normally a good idea, but there may be use cases where one
would not want to do this. [default: True]</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="galsim.AutoCorrelation.orig_obj">
<em class="property">property </em><code class="sig-name descname">orig_obj</code><a class="headerlink" href="#galsim.AutoCorrelation.orig_obj" title="Permalink to this definition">¶</a></dt>
<dd><p>The original object that is being auto-correlated.</p>
</dd></dl>

<dl class="py method">
<dt id="galsim.AutoCorrelation.real_space">
<em class="property">property </em><code class="sig-name descname">real_space</code><a class="headerlink" href="#galsim.AutoCorrelation.real_space" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether this <a class="reference internal" href="#galsim.Convolution" title="galsim.Convolution"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Convolution</span></code></a> should be drawn using real-space convolution rather
than FFT convolution.</p>
</dd></dl>

<dl class="py method">
<dt id="galsim.AutoCorrelation.withGSParams">
<code class="sig-name descname">withGSParams</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">gsparams</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/galsim/convolve.html#AutoCorrelation.withGSParams"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#galsim.AutoCorrelation.withGSParams" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a version of the current object with the given gsparams</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Unless you set <code class="docutils literal notranslate"><span class="pre">propagate_gsparams=False</span></code>, this method will also update the gsparams
of the wrapped component object.</p>
</div>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="galsim.AutoCorrelate">
<code class="sig-prename descclassname">galsim.</code><code class="sig-name descname">AutoCorrelate</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">obj</span></em>, <em class="sig-param"><span class="n">real_space</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">gsparams</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">propagate_gsparams</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/galsim/convolve.html#AutoCorrelate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#galsim.AutoCorrelate" title="Permalink to this definition">¶</a></dt>
<dd><p>A function for autocorrelating either a <a class="reference internal" href="gsobject.html#galsim.GSObject" title="galsim.GSObject"><code class="xref any py py-class docutils literal notranslate"><span class="pre">GSObject</span></code></a> or <a class="reference internal" href="chromaticobject.html#galsim.ChromaticObject" title="galsim.ChromaticObject"><code class="xref any py py-class docutils literal notranslate"><span class="pre">ChromaticObject</span></code></a>.</p>
<p>This function will inspect its input argument to decide if a <a class="reference internal" href="#galsim.AutoCorrelation" title="galsim.AutoCorrelation"><code class="xref any py py-class docutils literal notranslate"><span class="pre">AutoCorrelation</span></code></a> object or a
<a class="reference internal" href="chromaticobject.html#galsim.ChromaticAutoCorrelation" title="galsim.ChromaticAutoCorrelation"><code class="xref any py py-class docutils literal notranslate"><span class="pre">ChromaticAutoCorrelation</span></code></a> object is required to represent the correlation of a surface
brightness profile with itself.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>obj</strong> – The object to be convolved with itself.</p></li>
<li><p><strong>real_space</strong> – Whether to use real space convolution.  [default: None, which means
to automatically decide this according to whether the object has hard
edges.]</p></li>
<li><p><strong>gsparams</strong> – An optional <a class="reference internal" href="gsparams.html#galsim.GSParams" title="galsim.GSParams"><code class="xref any py py-class docutils literal notranslate"><span class="pre">GSParams</span></code></a> argument. [default: None]</p></li>
<li><p><strong>propagate_gsparams</strong> – Whether to propagate gsparams to the auto-convorrelated object.
This is normally a good idea, but there may be use cases where one
would not want to do this. [default: True]</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>an <a class="reference internal" href="#galsim.AutoCorrelation" title="galsim.AutoCorrelation"><code class="xref any py py-class docutils literal notranslate"><span class="pre">AutoCorrelation</span></code></a> or <a class="reference internal" href="chromaticobject.html#galsim.ChromaticAutoCorrelation" title="galsim.ChromaticAutoCorrelation"><code class="xref any py py-class docutils literal notranslate"><span class="pre">ChromaticAutoCorrelation</span></code></a> instance as appropriate.</p>
</dd>
</dl>
</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="transform.html" class="btn btn-neutral float-right" title="Transformed Profiles" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="real_gal.html" class="btn btn-neutral float-left" title="“Real” Galaxies" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2019, GalSim-developers.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>