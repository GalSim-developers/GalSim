

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Photon Arrays &mdash; GalSim 2.2.5 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Sensor Models" href="sensor.html" />
    <link rel="prev" title="Photon Shooting" href="photon.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> GalSim
          

          
          </a>

          
            
            
              <div class="version">
                2.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation Instructions</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorials.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="image.html">Images and Related Concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="sb.html">Surface Brightness Profiles</a></li>
<li class="toctree-l1"><a class="reference internal" href="chromatic.html">Wavelength-dependent Profiles</a></li>
<li class="toctree-l1"><a class="reference internal" href="units.html">Units</a></li>
<li class="toctree-l1"><a class="reference internal" href="wcs.html">World Coordinate Systems</a></li>
<li class="toctree-l1"><a class="reference internal" href="random.html">Noise and Random Values</a></li>
<li class="toctree-l1"><a class="reference internal" href="wl.html">Weak Lensing</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="photon.html">Photon Shooting</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Photon Arrays</a></li>
<li class="toctree-l2"><a class="reference internal" href="sensor.html">Sensor Models</a></li>
<li class="toctree-l2"><a class="reference internal" href="surface.html">Surface Operators</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="utilities.html">Helper Functions and Classes</a></li>
<li class="toctree-l1"><a class="reference internal" href="errors.html">Errors and Warnings</a></li>
<li class="toctree-l1"><a class="reference internal" href="config.html">The Config Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="hsm.html">The HSM Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="des.html">The DES Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="wfirst.html">The WFIRST Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="shared.html">Shared Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="history.html">Revision History</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">GalSim</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="photon.html">Photon Shooting</a> &raquo;</li>
        
      <li>Photon Arrays</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/photon_array.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="photon-arrays">
<h1>Photon Arrays<a class="headerlink" href="#photon-arrays" title="Permalink to this headline">¶</a></h1>
<dl class="py class">
<dt id="galsim.PhotonArray">
<em class="property">class </em><code class="sig-prename descclassname">galsim.</code><code class="sig-name descname">PhotonArray</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">N</span></em>, <em class="sig-param"><span class="n">x</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">y</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">flux</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">dxdz</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">dydz</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">wavelength</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/galsim/photon_array.html#PhotonArray"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#galsim.PhotonArray" title="Permalink to this definition">¶</a></dt>
<dd><p>The PhotonArray class encapsulates the concept of a collection of photons incident on
a detector.</p>
<p>A PhotonArray object is not typically constructed directly by the user.  Rather, it is
typically constructed as the return value of the <a class="reference internal" href="gsobject.html#galsim.GSObject.shoot" title="galsim.GSObject.shoot"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">GSObject.shoot</span></code></a> method.
At this point, the photons only have x,y,flux values.</p>
<p>Then there are a number of <a class="reference internal" href="surface.html#surface-operators"><span class="std std-ref">Surface Operators</span></a>, which perform various modifications to the
photons such as giving them wavelengths (<a class="reference internal" href="surface.html#galsim.WavelengthSampler" title="galsim.WavelengthSampler"><code class="xref any py py-class docutils literal notranslate"><span class="pre">WavelengthSampler</span></code></a> or inclination angles
(<a class="reference internal" href="surface.html#galsim.FRatioAngles" title="galsim.FRatioAngles"><code class="xref any py py-class docutils literal notranslate"><span class="pre">FRatioAngles</span></code></a>) or move them around according to the effect of differential chromatic
refraction (DCR; <a class="reference internal" href="surface.html#galsim.PhotonDCR" title="galsim.PhotonDCR"><code class="xref any py py-class docutils literal notranslate"><span class="pre">PhotonDCR</span></code></a>).</p>
<p>One could also add functionality to remove some photons due to fringing or vignetting,
but these are not yet implemented.</p>
<p>A PhotonArray instance has the following attributes, each of which is a numpy array:</p>
<dl class="field-list simple">
<dt class="field-odd">Attributes</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> – The incidence x position at the top of the detector</p></li>
<li><p><strong>y</strong> – The incidence y position at the top of the detector</p></li>
<li><p><strong>flux</strong> – The flux of the photons</p></li>
<li><p><strong>dxdz</strong> – The tangent of the inclination angles in the x direction</p></li>
<li><p><strong>dydz</strong> – The tangent of the inclination angles in the y direction</p></li>
<li><p><strong>wavelength  The wavelength of the photons</strong> (<em>in nm</em>)</p></li>
</ul>
</dd>
</dl>
<p>Unlike most GalSim objects (but like <a class="reference internal" href="image_class.html#galsim.Image" title="galsim.Image"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Image</span></code></a>), PhotonArrays are mutable.  It is permissible
to write values to the above attributes with code like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">photon_array</span><span class="o">.</span><span class="n">x</span> <span class="o">+=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span> <span class="o">*</span> <span class="mf">0.01</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">photon_array</span><span class="o">.</span><span class="n">flux</span> <span class="o">*=</span> <span class="mf">20.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">photon_array</span><span class="o">.</span><span class="n">wavelength</span> <span class="o">=</span> <span class="n">sed</span><span class="o">.</span><span class="n">sampleWavelength</span><span class="p">(</span><span class="n">photonarray</span><span class="o">.</span><span class="n">size</span><span class="p">(),</span> <span class="n">bandpass</span><span class="p">)</span>
<span class="go">etc.</span>
</pre></div>
</div>
<p>All of these will update the existing numpy arrays being used by the photon_array instance.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Normal photons have flux=1, but we allow for “fat” photons that combine the effect of
several photons at once for efficiency.  Also, some profiles need to use negative flux
photons to properly implement photon shooting (e.g. <a class="reference internal" href="arbitrary.html#galsim.InterpolatedImage" title="galsim.InterpolatedImage"><code class="xref any py py-class docutils literal notranslate"><span class="pre">InterpolatedImage</span></code></a>, which uses negative
flux photons to get the interpolation correct).  Finally, when we “remove” photons, for
better efficiency, we actually just set the flux to 0 rather than recreate new numpy arrays.</p>
</div>
<p>The initialization constructs a PhotonArray to hold N photons, but does not set the values of
anything yet.  The constructor allocates space for the x,y,flux arrays, since those are always
needed.  The other arrays are only allocated on demand if the user accesses these attributes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>N</strong> – The number of photons to store in this PhotonArray.  This value cannot be
changed.</p></li>
<li><p><strong>x</strong> – Optionally, the initial x values. [default: None]</p></li>
<li><p><strong>y</strong> – Optionally, the initial y values. [default: None]</p></li>
<li><p><strong>flux</strong> – Optionally, the initial flux values. [default: None]</p></li>
<li><p><strong>dxdz</strong> – Optionally, the initial dxdz values. [default: None]</p></li>
<li><p><strong>dydz</strong> – Optionally, the initial dydz values. [default: None]</p></li>
<li><p><strong>wavelength</strong> – Optionally, the initial wavelength values (in nm). [default: None]</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="galsim.PhotonArray.addTo">
<code class="sig-name descname">addTo</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">image</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/galsim/photon_array.html#PhotonArray.addTo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#galsim.PhotonArray.addTo" title="Permalink to this definition">¶</a></dt>
<dd><p>Add flux of photons to an image by binning into pixels.</p>
<p>Photons in this <a class="reference internal" href="#galsim.PhotonArray" title="galsim.PhotonArray"><code class="xref any py py-class docutils literal notranslate"><span class="pre">PhotonArray</span></code></a> are binned into the pixels of the input
<a class="reference internal" href="image_class.html#galsim.Image" title="galsim.Image"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Image</span></code></a> and their flux summed into the pixels.  The <a class="reference internal" href="image_class.html#galsim.Image" title="galsim.Image"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Image</span></code></a> is assumed to represent
surface brightness, so photons’ fluxes are divided by image pixel area.
Photons past the edges of the image are discarded.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>image</strong> – The <a class="reference internal" href="image_class.html#galsim.Image" title="galsim.Image"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Image</span></code></a> to which the photons’ flux will be added.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the total flux of photons the landed inside the image bounds.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="galsim.PhotonArray.allocateAngles">
<code class="sig-name descname">allocateAngles</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/galsim/photon_array.html#PhotonArray.allocateAngles"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#galsim.PhotonArray.allocateAngles" title="Permalink to this definition">¶</a></dt>
<dd><p>Allocate memory for the incidence angles, <a class="reference internal" href="#galsim.PhotonArray.dxdz" title="galsim.PhotonArray.dxdz"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">dxdz</span></code></a> and <a class="reference internal" href="#galsim.PhotonArray.dydz" title="galsim.PhotonArray.dydz"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">dydz</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt id="galsim.PhotonArray.allocateWavelengths">
<code class="sig-name descname">allocateWavelengths</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/galsim/photon_array.html#PhotonArray.allocateWavelengths"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#galsim.PhotonArray.allocateWavelengths" title="Permalink to this definition">¶</a></dt>
<dd><p>Allocate the memory for the <a class="reference internal" href="#galsim.PhotonArray.wavelength" title="galsim.PhotonArray.wavelength"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">wavelength</span></code></a> array.</p>
</dd></dl>

<dl class="py method">
<dt id="galsim.PhotonArray.assignAt">
<code class="sig-name descname">assignAt</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">istart</span></em>, <em class="sig-param"><span class="n">rhs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/galsim/photon_array.html#PhotonArray.assignAt"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#galsim.PhotonArray.assignAt" title="Permalink to this definition">¶</a></dt>
<dd><p>Assign the contents of another <a class="reference internal" href="#galsim.PhotonArray" title="galsim.PhotonArray"><code class="xref any py py-class docutils literal notranslate"><span class="pre">PhotonArray</span></code></a> to this one starting at istart.</p>
</dd></dl>

<dl class="py method">
<dt id="galsim.PhotonArray.convolve">
<code class="sig-name descname">convolve</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">rhs</span></em>, <em class="sig-param"><span class="n">rng</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/galsim/photon_array.html#PhotonArray.convolve"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#galsim.PhotonArray.convolve" title="Permalink to this definition">¶</a></dt>
<dd><p>Convolve this <a class="reference internal" href="#galsim.PhotonArray" title="galsim.PhotonArray"><code class="xref any py py-class docutils literal notranslate"><span class="pre">PhotonArray</span></code></a> with another.</p>
</dd></dl>

<dl class="py method">
<dt id="galsim.PhotonArray.dxdz">
<em class="property">property </em><code class="sig-name descname">dxdz</code><a class="headerlink" href="#galsim.PhotonArray.dxdz" title="Permalink to this definition">¶</a></dt>
<dd><p>dx/dz.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>The tangent of the inclination angles in the x direction</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="galsim.PhotonArray.dydz">
<em class="property">property </em><code class="sig-name descname">dydz</code><a class="headerlink" href="#galsim.PhotonArray.dydz" title="Permalink to this definition">¶</a></dt>
<dd><p>dy/dz.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>The tangent of the inclination angles in the y direction</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="galsim.PhotonArray.flux">
<em class="property">property </em><code class="sig-name descname">flux</code><a class="headerlink" href="#galsim.PhotonArray.flux" title="Permalink to this definition">¶</a></dt>
<dd><p>The flux of the photons.</p>
</dd></dl>

<dl class="py method">
<dt id="galsim.PhotonArray.getTotalFlux">
<code class="sig-name descname">getTotalFlux</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/galsim/photon_array.html#PhotonArray.getTotalFlux"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#galsim.PhotonArray.getTotalFlux" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the total flux of all the photons.</p>
</dd></dl>

<dl class="py method">
<dt id="galsim.PhotonArray.hasAllocatedAngles">
<code class="sig-name descname">hasAllocatedAngles</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/galsim/photon_array.html#PhotonArray.hasAllocatedAngles"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#galsim.PhotonArray.hasAllocatedAngles" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns whether the arrays for the incidence angles <a class="reference internal" href="#galsim.PhotonArray.dxdz" title="galsim.PhotonArray.dxdz"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">dxdz</span></code></a> and <a class="reference internal" href="#galsim.PhotonArray.dydz" title="galsim.PhotonArray.dydz"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">dydz</span></code></a> have been
allocated.</p>
</dd></dl>

<dl class="py method">
<dt id="galsim.PhotonArray.hasAllocatedWavelengths">
<code class="sig-name descname">hasAllocatedWavelengths</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/galsim/photon_array.html#PhotonArray.hasAllocatedWavelengths"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#galsim.PhotonArray.hasAllocatedWavelengths" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns whether the <a class="reference internal" href="#galsim.PhotonArray.wavelength" title="galsim.PhotonArray.wavelength"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">wavelength</span></code></a> array has been allocated.</p>
</dd></dl>

<dl class="py method">
<dt id="galsim.PhotonArray.isCorrelated">
<code class="sig-name descname">isCorrelated</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/galsim/photon_array.html#PhotonArray.isCorrelated"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#galsim.PhotonArray.isCorrelated" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns whether the photons are correlated</p>
</dd></dl>

<dl class="py method">
<dt id="galsim.PhotonArray.makeFromImage">
<em class="property">classmethod </em><code class="sig-name descname">makeFromImage</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">image</span></em>, <em class="sig-param"><span class="n">max_flux</span><span class="o">=</span><span class="default_value">1.0</span></em>, <em class="sig-param"><span class="n">rng</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/galsim/photon_array.html#PhotonArray.makeFromImage"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#galsim.PhotonArray.makeFromImage" title="Permalink to this definition">¶</a></dt>
<dd><p>Turn an existing <a class="reference internal" href="image_class.html#galsim.Image" title="galsim.Image"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Image</span></code></a> into a <a class="reference internal" href="#galsim.PhotonArray" title="galsim.PhotonArray"><code class="xref any py py-class docutils literal notranslate"><span class="pre">PhotonArray</span></code></a> that would accumulate into this image.</p>
<p>The flux in each non-zero pixel will be turned into 1 or more photons with random positions
within the pixel bounds.  The <code class="docutils literal notranslate"><span class="pre">max_flux</span></code> parameter (which defaults to 1) sets an upper
limit for the absolute value of the flux of any photon.  Pixels with abs values &gt; maxFlux
will spawn multiple photons.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>image</strong> – The image to turn into a <a class="reference internal" href="#galsim.PhotonArray" title="galsim.PhotonArray"><code class="xref any py py-class docutils literal notranslate"><span class="pre">PhotonArray</span></code></a></p></li>
<li><p><strong>max_flux</strong> – The maximum flux value to use for any output photon [default: 1]</p></li>
<li><p><strong>rng</strong> – A <a class="reference internal" href="deviate.html#galsim.BaseDeviate" title="galsim.BaseDeviate"><code class="xref any py py-class docutils literal notranslate"><span class="pre">BaseDeviate</span></code></a> to use for the random number generation [default: None]</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a <a class="reference internal" href="#galsim.PhotonArray" title="galsim.PhotonArray"><code class="xref any py py-class docutils literal notranslate"><span class="pre">PhotonArray</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="galsim.PhotonArray.read">
<em class="property">classmethod </em><code class="sig-name descname">read</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">file_name</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/galsim/photon_array.html#PhotonArray.read"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#galsim.PhotonArray.read" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a <a class="reference internal" href="#galsim.PhotonArray" title="galsim.PhotonArray"><code class="xref any py py-class docutils literal notranslate"><span class="pre">PhotonArray</span></code></a>, reading the photon data from a FITS file.</p>
<p>The file being read in is not arbitrary.  It is expected to be a file that was written
out with the <a class="reference internal" href="#galsim.PhotonArray.write" title="galsim.PhotonArray.write"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">PhotonArray.write</span></code></a> method.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">photons</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;photons.fits&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">photons2</span> <span class="o">=</span> <span class="n">galsim</span><span class="o">.</span><span class="n">PhotonArray</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s1">&#39;photons.fits&#39;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>file_name</strong> – The file name of the input FITS file.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="galsim.PhotonArray.scaleFlux">
<code class="sig-name descname">scaleFlux</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">scale</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/galsim/photon_array.html#PhotonArray.scaleFlux"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#galsim.PhotonArray.scaleFlux" title="Permalink to this definition">¶</a></dt>
<dd><p>Rescale the photon fluxes by the given factor.</p>
<dl class="simple">
<dt>Parameter:</dt><dd><p>scale:      The factor by which to scale the fluxes.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="galsim.PhotonArray.scaleXY">
<code class="sig-name descname">scaleXY</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">scale</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/galsim/photon_array.html#PhotonArray.scaleXY"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#galsim.PhotonArray.scaleXY" title="Permalink to this definition">¶</a></dt>
<dd><p>Scale the photon positions (<a class="reference internal" href="#galsim.PhotonArray.x" title="galsim.PhotonArray.x"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">x</span></code></a> and <a class="reference internal" href="#galsim.PhotonArray.y" title="galsim.PhotonArray.y"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">y</span></code></a>) by the given factor.</p>
<dl class="simple">
<dt>Parameter:</dt><dd><p>scale:      The factor by which to scale the positions.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="galsim.PhotonArray.setCorrelated">
<code class="sig-name descname">setCorrelated</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">is_corr</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/galsim/photon_array.html#PhotonArray.setCorrelated"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#galsim.PhotonArray.setCorrelated" title="Permalink to this definition">¶</a></dt>
<dd><p>Set whether the photons are correlated</p>
</dd></dl>

<dl class="py method">
<dt id="galsim.PhotonArray.setTotalFlux">
<code class="sig-name descname">setTotalFlux</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">flux</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/galsim/photon_array.html#PhotonArray.setTotalFlux"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#galsim.PhotonArray.setTotalFlux" title="Permalink to this definition">¶</a></dt>
<dd><p>Rescale the photon fluxes to achieve the given total flux.</p>
<dl class="simple">
<dt>Parameter:</dt><dd><p>flux:       The target flux</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="galsim.PhotonArray.size">
<code class="sig-name descname">size</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/galsim/photon_array.html#PhotonArray.size"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#galsim.PhotonArray.size" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the size of the photon array.  Equivalent to <code class="docutils literal notranslate"><span class="pre">len(self)</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt id="galsim.PhotonArray.wavelength">
<em class="property">property </em><code class="sig-name descname">wavelength</code><a class="headerlink" href="#galsim.PhotonArray.wavelength" title="Permalink to this definition">¶</a></dt>
<dd><p>The wavelength of the photons (in nm).</p>
</dd></dl>

<dl class="py method">
<dt id="galsim.PhotonArray.write">
<code class="sig-name descname">write</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">file_name</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/galsim/photon_array.html#PhotonArray.write"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#galsim.PhotonArray.write" title="Permalink to this definition">¶</a></dt>
<dd><p>Write a <a class="reference internal" href="#galsim.PhotonArray" title="galsim.PhotonArray"><code class="xref any py py-class docutils literal notranslate"><span class="pre">PhotonArray</span></code></a> to a FITS file.</p>
<p>The output file will be a FITS binary table with a row for each photon in the <a class="reference internal" href="#galsim.PhotonArray" title="galsim.PhotonArray"><code class="xref any py py-class docutils literal notranslate"><span class="pre">PhotonArray</span></code></a>.
Columns will include ‘id’ (sequential from 1 to nphotons), ‘x’, ‘y’, and ‘flux’.
Additionally, the columns ‘dxdz’, ‘dydz’, and ‘wavelength’ will be included if they are
set for this <a class="reference internal" href="#galsim.PhotonArray" title="galsim.PhotonArray"><code class="xref any py py-class docutils literal notranslate"><span class="pre">PhotonArray</span></code></a> object.</p>
<p>The file can be read back in with the classmethod <a class="reference internal" href="#galsim.PhotonArray.read" title="galsim.PhotonArray.read"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">PhotonArray.read</span></code></a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">photons</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;photons.fits&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">photons2</span> <span class="o">=</span> <span class="n">galsim</span><span class="o">.</span><span class="n">PhotonArray</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s1">&#39;photons.fits&#39;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>file_name</strong> – The file name of the output FITS file.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="galsim.PhotonArray.x">
<em class="property">property </em><code class="sig-name descname">x</code><a class="headerlink" href="#galsim.PhotonArray.x" title="Permalink to this definition">¶</a></dt>
<dd><p>The incidence x position at the top of the detector.</p>
</dd></dl>

<dl class="py method">
<dt id="galsim.PhotonArray.y">
<em class="property">property </em><code class="sig-name descname">y</code><a class="headerlink" href="#galsim.PhotonArray.y" title="Permalink to this definition">¶</a></dt>
<dd><p>The incidence y position at the top of the detector.</p>
</dd></dl>

</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="sensor.html" class="btn btn-neutral float-right" title="Sensor Models" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="photon.html" class="btn btn-neutral float-left" title="Photon Shooting" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2019, GalSim-developers.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>